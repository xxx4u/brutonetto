"use strict";Application.Controllers.controller("authorization.signup.controller",["$scope","$constant","$configuration","$translate","$dataService",function(n,t,i,r,u){var f=this;n.alerts=[],n.dismissAlert=function(t){n.alerts.splice(t,1)},n.dismissAllAlerts=function(){n.alerts=[]},n.supportedLocales=Enumerable.From(n.getSupportedLocales()).Select(function(n){return angular.extend(n,{select:function(){f.selectLocale(this.code)}})}).ToArray(),n.newUser=new Application.Model.Security.UserIdentity,n.supportedLocalesRendered=function(){var n=i.get(t.LOCAL_STORAGE,"application.setting.locale",t.DEFAULT_LOCALE);f.selectLocale(n)},n.doSignUp=function(){n.isBusy=!0,n.dismissAllAlerts(),u.signUpUser({onBehalfOf:t.ON_BEHALF_OF_CLIENT},n.newUser.toDataTransferObject()).then(function(t){n.isBusy=!1,n.$emit("event:authorization:user-sign-up-success",t),n.$emit("event:authorization:user-access-token-requested",{username:n.newUser.User.Identifier,password:n.newUser.User.Password})},function(t){n.isBusy=!1,n.$emit("event:authorization:user-sign-up-error",t),n.alerts.push({type:"error",message:t.Error.Message})})},n.goToSignIn=function(){n.$state.transitionTo("authorization.signin",n.$stateParams)},f.selectLocale=function(t){Enumerable.From(n.supportedLocales).ForEach(function(n){n.isSelected=n.code===t}),n.newUser.Identity.Locale=t,n.$emit("event:application:change-locale-requested",t)}}]);
//@ sourceMappingURL=authorization-signup-controller.min.js.map