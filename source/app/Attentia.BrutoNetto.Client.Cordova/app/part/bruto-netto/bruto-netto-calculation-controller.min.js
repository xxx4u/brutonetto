"use strict";Application.Controllers.controller("bruto.netto.calculation.controller",["$scope","$constant","$translate","$dataService","$interval","$document",function(n,t,i,r,u){var f=this;n.$on("$stateChangeSuccess",function(){n.calculate()}),n.$watch("progress",function(){n.progressBarStyle={width:+n.progress+"%"}}),n.progress=0,n.calculate=function(){var u=n.brutoNettoModel.toDataTransferObject(),e=angular.toJson(u),i=f.enableProgressNotification(n);r.calculateBrutoNetto({onBehalfOf:t.ON_BEHALF_OF_USER},{parameters:e}).then(function(t){f.disableProgressNotification(i,n);var r=angular.fromJson(t.Result);n.brutoNettoModel.Calculation=angular.extend({},{Bruto:Number(r.Bruto).toFixed(2),Netto:Number(r.Netto).toFixed(2)})},function(){f.disableProgressNotification(i,n),n.$state.transitionTo("brutonetto.error",n.$stateParams)})},n.goToParameters=function(){n.brutoNettoModel.Calculation=angular.extend({},{Bruto:null,Netto:null}),n.$state.transitionTo("brutonetto.parameter-"+n.view.mode,n.$stateParams)},f.enableProgressNotification=function(n){n.progress=0;var t=u(function(){n.progress=n.progress+1},300,100,!0).stop();return setTimeout(function(){n.brutoNettoModel.Calculation.Bruto||n.brutoNettoModel.Calculation.Netto||t.start()},500),t},f.disableProgressNotification=function(n,t){return n.stop(),t.progress=0,n}}]);
//@ sourceMappingURL=bruto-netto-calculation-controller.min.js.map